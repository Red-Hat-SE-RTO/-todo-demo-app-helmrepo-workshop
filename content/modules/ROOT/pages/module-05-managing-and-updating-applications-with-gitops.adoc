= Module 5: Managing and Updating Applications with GitOps

[%hardbreaks]
== Module Overview

This module focuses on managing and updating applications using GitOps practices. It covers making changes through Git, automated updates with Argo CD, rollbacks, and version control. Participants will also have a hands-on exercise to update the Todo app and practice performing rollbacks using Git and Argo CD.

== Key Learning Objectives

* Understand how to make changes to applications through Git.
* Learn how Argo CD automates updates in OpenShift.
* Explore rollbacks and version control in GitOps.
* Practice updating and rolling back the Todo app using Git and Argo CD.

== Making Changes through Git

=== Updating Application Configuration

To update the application, make changes to the configuration files in the Git repository. Follow these steps:

1. Clone the Git repository:
   [source,bash]
   ----
   git clone <repository_url>
   ----

2. Navigate to the application configuration directory:
   [source,bash]
   ----
   cd <repository_directory>/config
   ----

3. Make the necessary changes to the configuration files.

4. Commit and push the changes to the Git repository:
   [source,bash]
   ----
   git add .
   git commit -m "Update application configuration"
   git push origin main
   ----

== Automated Updates with Argo CD

=== How Argo CD Works

Argo CD automatically detects changes in the Git repository and deploys the updates to OpenShift. Here's how it works:

1. Argo CD continuously monitors the Git repository for changes.
2. When a change is detected, Argo CD synchronizes the desired state defined in the Git repository with the actual state in OpenShift.
3. The application is automatically updated with the new configuration.

== Rollbacks and Version Control

=== Facilitating Rollbacks

GitOps makes it easy to perform rollbacks and manage version control for application deployments. Here's how:

1. Identify the commit hash of the desired version to rollback to.
2. Update the Git repository to the desired commit:
   [source,bash]
   ----
   git checkout <commit_hash>
   git push origin main
   ----

3. Argo CD will detect the change and rollback the application to the specified version.

== Hands-on Exercise: Managing and Updating the Todo App

=== Exercise Objectives

* Update the Todo app by making changes to the Git repository.
* Observe how Argo CD automatically deploys the updates.
* Practice performing rollbacks using Git and Argo CD.

[source,bash]
----
# Example commands for updating and rolling back the Todo app
git clone <repository_url>
cd <repository_directory>/config
# Make changes to the configuration files
git add .
git commit -m "Update Todo app configuration"
git push origin main
# Rollback to a previous version
git checkout <commit_hash>
git push origin main
----

== Module Summary

Key takeaways from this module:
* Making changes to applications through Git.
* Automated updates with Argo CD.
* Rollbacks and version control in GitOps.
* Hands-on experience with updating and rolling back the Todo app.

== Next Steps

Prepare to apply GitOps practices in advanced scenarios in the next module.
